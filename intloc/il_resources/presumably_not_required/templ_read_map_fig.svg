$preamble$
<?xml version="1.0"?>
<svg height="350" version="1.1" width="1000" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <desc>read to reference mapping figure</desc>
    <style>
    .read_txt {
      display: inline;
      text-align: center;
      color: none;
      opacity: 0
    }
    .info_canv {
      display: inline;
      text-align: center;
      color: none;
      opacity: 0
    }

    .int_read {
        position: relative;
        z-index: 1;
    }
    .int_read:hover ~ .read_txt {
      fill: black;
      color: black;
      pointer-events: visibleFill;
      opacity: 1
    }
    .int_read:hover ~ .info_canv {
      fill: white;
      color: black;
      pointer-events: visibleFill;
      opacity: 1;
    }

    .non_int_read {
        position: relative;
        z-index: 1;
    }
    .non_int_read:hover ~ .read_txt {
      fill: black;
      color: black;
      pointer-events: visibleFill;
      opacity: 1;
    }
    .non_int_read:hover ~ .info_canv {
      fill: white;
      color: black;
      pointer-events: visibleFill;
      opacity: 1
    }
    </style>
    <g transform="translate(0 10)">
$reference$
        <g class="reference" transform="translate(0 0)">
            <polygon class="int-site" fill="blue" transform="translate(@#int_mark@ 20)" points="-5 0, 0 10, 5 0"/>
            <text class="int_txt" fill="blue" font-size="10px" transform="translate(@#int_label@ 5)" font-weight="regular" >Integration site</text>
            <rect class="ref" x="20" y="30" fill="grey" width=@~ref_len@ height="10"/>
            <rect class="major_tick" x=@~major_x@ y="20" fill="rgb(91,91,91)" width="1" height="20"/>
            <text class="tick_txt" fill="black" font-size="8px" transform="translate(10 15)" font-weight="regular" >@#max_start_label@</text>
            <rect class="minor_tick" x=@~minor_x@ y="25" fill="rgb(91,91,91)" width="1" height="5"/>
        </g>
$int_read$
        <g class="read">
            <g class="read_pos" transform="translate(@#read_x@ @#read_z@)">
                <g>
                    <rect class="int_read" x="0" y="0" fill=@~color@ stroke="green" stroke-width="0" width=@~al_len@ height="10"/>
                    <rect class="info_canv" transform="translate(0 -55)" stroke="black" fill="white" stroke-width="1" width="50" height="50"/>
                    <text class="read_txt" fill="black" font-size="8px" transform="translate(2 -47)" font-weight="regular" >@#read_name@</text>
                    <text class="read_txt" fill="black" font-size="8px" transform="translate(2 -39)" font-weight="regular" >@#qlen@</text>
                    <text class="read_txt" fill="black" font-size="8px" transform="translate(2 -31)" font-weight="regular" >@#tstart@</text>
                    <text class="read_txt" fill="black" font-size="8px" transform="translate(2 -23)" font-weight="regular" >@#tend@</text>
                </g>
            </g>
        </g>
$non_int_read$
        <g class="read">
            <g transform="translate(@#read_x@ @#read_z@)">
                <g>
                    <rect class="non_int_read" fill="red" stroke="red" stroke-width="0" width=@~al_len@ height="10"/>
                    <rect class="info_canv" transform="translate(0 -55)" stroke="black" fill="white" stroke-width="1" width="50" height="50"/>
                    <text class="read_txt" fill="black" font-size="8px" transform="translate(2 -47)" font-weight="regular" >@#read_name@</text>
                </g>
            </g>
        </g>
$end_of_file$
    </g>
</svg>